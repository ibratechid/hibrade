document.addEventListener('DOMContentLoaded',function(){'use strict';const header=document.querySelector('header');const navToggle=document.querySelector('.nav-toggle');const navMenu=document.querySelector('.nav-menu');const backToTop=document.querySelector('.back-to-top');const navLinks=document.querySelectorAll('.nav-menu a');const currentPath=window.location.pathname;navLinks.forEach(link=>{const linkPath=link.getAttribute('href');if(linkPath===currentPath||(currentPath==='/'||currentPath==='/index.html')&&linkPath==='index.html'){link.classList.add('active')}});if(navToggle){navToggle.addEventListener('click',function(){navToggle.classList.toggle('active');navMenu.classList.toggle('active');document.body.style.overflow=navMenu.classList.contains('active')?'hidden':''})}
navLinks.forEach(link=>{link.addEventListener('click',function(){if(window.innerWidth<=768){navToggle.classList.remove('active');navMenu.classList.remove('active');document.body.style.overflow=''}})});window.addEventListener('scroll',function(){if(window.scrollY>50){header.classList.add('scrolled')}else{header.classList.remove('scrolled')}
if(backToTop){if(window.scrollY>300){backToTop.classList.add('show')}else{backToTop.classList.remove('show')}}});if(backToTop){backToTop.addEventListener('click',function(){window.scrollTo({top:0,behavior:'smooth'})})}
const faqQuestions=document.querySelectorAll('.faq-question');faqQuestions.forEach(question=>{question.addEventListener('click',function(){const isActive=this.classList.contains('active');faqQuestions.forEach(q=>{q.classList.remove('active');q.nextElementSibling.classList.remove('show')});if(!isActive){this.classList.add('active');this.nextElementSibling.classList.add('show')}})});const filterButtons=document.querySelectorAll('.filter-btn');const projectCards=document.querySelectorAll('.project-card');if(filterButtons.length>0){filterButtons.forEach(button=>{button.addEventListener('click',function(){filterButtons.forEach(btn=>btn.classList.remove('active'));this.classList.add('active');const filter=this.dataset.filter;projectCards.forEach(card=>{const category=card.dataset.category;if(filter==='all'||category===filter){card.style.display='block';setTimeout(()=>card.classList.add('fade-in'),10)}else{card.style.display='none';card.classList.remove('fade-in')}})})})}
const pricingTabs=document.querySelectorAll('.pricing-tab');const pricingContents=document.querySelectorAll('.pricing-content');if(pricingTabs.length>0){pricingTabs.forEach(tab=>{tab.addEventListener('click',function(){pricingTabs.forEach(t=>t.classList.remove('active'));this.classList.add('active');const target=this.dataset.tab;pricingContents.forEach(content=>{if(content.id===target){content.style.display='grid';setTimeout(()=>content.classList.add('fade-in'),10)}else{content.style.display='none';content.classList.remove('fade-in')}})})})}
const modal=document.querySelector('.modal');const modalClose=document.querySelector('.modal-close');const projectCardsList=document.querySelectorAll('.project-card[data-project-id]');if(projectCardsList.length>0&&modal){projectCardsList.forEach(card=>{card.addEventListener('click',function(){const projectId=this.dataset.projectId;openProjectModal(projectId)})});if(modalClose){modalClose.addEventListener('click',function(){modal.classList.remove('show');document.body.style.overflow=''})}
modal.addEventListener('click',function(e){if(e.target===modal){modal.classList.remove('show');document.body.style.overflow=''}})}
async function openProjectModal(projectId){try{const response=await fetch('assets/data/projects.json');const projects=await response.json();const project=projects.find(p=>p.id==projectId);if(project){const modalBody=document.querySelector('.modal-body');modalBody.innerHTML=`
                <span class="project-category">${project.category}</span>
                <h2>${project.title}</h2>
                <div class="modal-gallery">
                    <img src="${project.image}" alt="${project.title}" loading="lazy">
                </div>
                <div class="modal-section">
                    <h3>Project Overview</h3>
                    <p>${project.fullDescription}</p>
                </div>
                <div class="modal-section">
                    <h3>Challenges & Solutions</h3>
                    <p>${project.challenges}</p>
                </div>
                <div class="modal-section">
                    <h3>Results</h3>
                    <p>${project.results}</p>
                </div>
                <div class="modal-section">
                    <h3>Technologies Used</h3>
                    <div class="tech-tags">
                        ${project.technologies.map(tech=>`<span class="tech-tag">${tech}</span>`).join('')}
                    </div>
                </div>
                <div class="modal-section">
                    <h3>Client Testimonial</h3>
                    <div class="testimonial-card">
                        <div class="stars">★★★★★</div>
                        <p class="testimonial-quote">"${project.testimonial}"</p>
                        <div class="testimonial-info">
                            <h4>${project.clientName}</h4>
                            <p>${project.clientCompany}</p>
                        </div>
                    </div>
                </div>
                <div style="text-align:center;margin-top:32px;">
                    <a href="get-started.html" class="btn btn-primary">Start Similar Project</a>
                </div>
            `;modal.classList.add('show');document.body.style.overflow='hidden'}}catch(error){console.error('Error loading project:',error)}}
const newsletterForm=document.querySelector('.newsletter-form');if(newsletterForm){newsletterForm.addEventListener('submit',function(e){e.preventDefault();const emailInput=this.querySelector('input[type="email"]');const email=emailInput.value.trim();if(validateEmail(email)){alert('Thank you for subscribing to our newsletter!');emailInput.value=''}else{alert('Please enter a valid email address.')}})}
function validateEmail(email){const re=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return re.test(email)}
const observerOptions={threshold:0.1,rootMargin:'0px 0px -50px 0px'};const observer=new IntersectionObserver(function(entries){entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('slide-up')}})},observerOptions);document.querySelectorAll('.card,.project-card,.testimonial-card,.feature-item,.team-card,.pricing-card').forEach(el=>{observer.observe(el)});const stats=document.querySelectorAll('.stat-item h3[data-target]');if(stats.length>0){const statsObserver=new IntersectionObserver(function(entries){entries.forEach(entry=>{if(entry.isIntersecting){animateCounter(entry.target);statsObserver.unobserve(entry.target)}})},{threshold:0.5});stats.forEach(stat=>statsObserver.observe(stat))}
function animateCounter(element){const target=parseInt(element.dataset.target);const duration=2000;const increment=target/duration*10;let current=0;const timer=setInterval(()=>{current+=increment;if(current>=target){element.textContent=target+'+';clearInterval(timer)}else{element.textContent=Math.floor(current)+'+';}},10)}});
